image: Visual Studio 2017
version: 1.0.{build}
build:
  verbosity: minimal
before_build:
- cmd: dotnet restore
after_build:
- ps: dotnet build -c Release -o "..\output"
- ps: Get-ChildItem output -Recurse -Filter DocFX.Plugin.DescriptionGenerator.dll | % { Push-AppveyorArtifact $_.FullName }
deploy:
  provider: GitHub
  auth_token:
    secure: BQv7eBGWexobEIEMhDs48A1LuXmSbdymyLIv7KC6sEOEDvG12l8W9/zYDCqQt6/I # your encrypted token from GitHub
  artifact: /output/DocFX\.Plugin\.DescriptionGenerator\.dll
  draft: false
  prerelease: false
  on:
    branch: master                 # release from master branch only